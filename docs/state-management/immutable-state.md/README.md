# 불변 상태 관리 (Immutable State Management)

> 상태는 직접 수정하지 말고, **복사본을 만들어 교체**하자.

---

## 개념 정의

- 상태를 직접 수정하지 않고, 기존 상태의 복사본을 만들어 일부만 수정한 **새 객체**로 교체하는 방식

---

## 왜 불변 상태를 유지해야 하는가?

### 1. UI 리렌더링 감지

- 객체 주소가 바뀌어야 상태 변경을 감지함
- 직접 수정하면 리렌더링 안 될 수 있음

### 2. 상태 변경 추적 쉬움

- 상태 변경은 `copyWith()`나 `setState()` 같은 **한정된 경로**에서만 발생 -> 디버깅과 유지보수가 쉬워짐

### 3. 예측 가능한 동작

- 어디서 어떤 값이 바뀌었는지 명확
- 사이드 이펙트(예기치 않은 상태 변경) 방지

### 4. 테스트 가능성 높음

- 상태 이전/이후를 명확하게 비교 가능

---

## mutable vs immutable 비교

| 항목           | Mutable (가변)               | Immutable (불변)       |
| -------------- | ---------------------------- | ---------------------- |
| 상태 변경 방식 | 객체 내부 직접 수정          | 복사본 생성 후 교체    |
| UI 감지 여부   | 주소 동일하면 감지 실패 가능 | 주소 변경 -> 항상 감지 |
| 추적/디버깅    | 언제 바뀌었는지 추적 어려움  | 변경 지점이 명확       |
| 사이드 이펙트  | 발생 가능                    | 거의 없음              |
